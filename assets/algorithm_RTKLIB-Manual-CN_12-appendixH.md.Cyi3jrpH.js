import{_ as x,c as b,j as o,a as i,G as k,B as I,o as g}from"./chunks/framework.B5S16sG3.js";const a={GPS:{min:1,max:32,offset:0,code:"G"},GLO:{min:1,max:27,offset:32,code:"R"},GAL:{min:1,max:36,offset:59,code:"E"},QZS:{min:193,max:202,offset:95,code:"J"},CMP:{min:1,max:46,offset:105,code:"C"},IRN:{min:1,max:14,offset:151,code:"I"},SBS:{min:120,max:158,offset:165,code:"S"}};let c={...a};function m(){let n=0;for(const e in c)c[e].offset=n,n+=c[e].max-c[e].min+1}function p(n,e){a[n]&&!isNaN(e)&&e>=a[n].min&&(c[n]={...a[n],max:parseInt(e)},m())}function P(n,e){if(e){if(c[n]={...a[n]},n==="CMP"){const t=parseInt(document.getElementById("H-1-1-MAXCMP").value)||a.CMP.max;p("CMP",t)}}else delete c[n];m()}function f(){const n={GPS:document.getElementById("checkbox-GPS"),GLO:document.getElementById("checkbox-GLO"),GAL:document.getElementById("checkbox-GAL"),QZS:document.getElementById("checkbox-QZS"),CMP:document.getElementById("checkbox-CMP"),IRN:document.getElementById("checkbox-IRN"),SBS:document.getElementById("checkbox-SBS")};c={};for(const[e,t]of Object.entries(n))if(t.checked&&(c[e]={...a[e]},e==="CMP")){const s=parseInt(document.getElementById("H-1-1-MAXCMP").value)||a.CMP.max;p(e,s)}m()}function y(n){n=n.trim();let e,t;if(/^\d+$/.test(n)){if(t=parseInt(n),c.GPS&&c.GPS.min<=t&&t<=c.GPS.max)e="GPS";else if(c.SBS&&c.SBS.min<=t&&t<=c.SBS.max)e="SBS";else if(c.QZS&&c.QZS.min<=t&&t<=c.QZS.max)e="QZS";else if(c.CMP&&c.CMP.min<=t&&t<=c.CMP.max)e="CMP";else return 0;return S(e,t)}const s=n.match(/^([GREJCIS])(\d+)$/);if(!s)return 0;const d=s[1],l=s[2];switch(t=parseInt(l),d){case"G":e="GPS",t+=a.GPS.min-1;break;case"R":e="GLO",t+=a.GLO.min-1;break;case"E":e="GAL",t+=a.GAL.min-1;break;case"J":e="QZS",t+=a.QZS.min-1;break;case"C":e="CMP",t+=a.CMP.min-1;break;case"I":e="IRN",t+=a.IRN.min-1;break;case"S":e="SBS",t+=100;break;default:return 0}return!c[e]||t<c[e].min||t>c[e].max?0:S(e,t)}function S(n,e){const t=c[n];return!t||e<t.min||e>t.max?0:t.offset+(e-t.min+1)}function G(n){for(const[e,{min:t,max:s,offset:d,code:l}]of Object.entries(c)){const r=d+1,h=d+(s-t+1);if(n>=r&&n<=h){const u=1+(n-d-1);return e==="SBS"?u.toString().padStart(3,"0"):`${l}${u.toString().padStart(2,"0")}`}}return""}function B(){f();const n=document.getElementById("satIdInput").value,e=y(n);document.getElementById("H-1-1-sat").value=e?`${e}`:"Invalid input"}function M(){f();const n=parseInt(document.getElementById("satNoInput").value),e=G(n);document.getElementById("H-1-1-prn").value=e?`${e}`:"Invalid input"}typeof window<"u"&&(window.convertIdToNo=B,window.convertNoToId=M,window.toggleSystem=P);const v=JSON.parse('{"title":"附录H. 常见问题","description":"","frontmatter":{"sidebarDepth":2},"headers":[],"relativePath":"algorithm/RTKLIB-Manual-CN/12-appendixH.md","filePath":"algorithm/RTKLIB-Manual-CN/12-appendixH.md"}'),N={name:"algorithm/RTKLIB-Manual-CN/12-appendixH.md"};function C(n,e,t,s,d,l){const r=I("GiscusTalk");return g(),b("div",null,[e[0]||(e[0]=o("h1",{id:"附录h-常见问题",tabindex:"-1"},[i("附录H. 常见问题 "),o("a",{class:"header-anchor",href:"#附录h-常见问题","aria-label":'Permalink to "附录H. 常见问题"'},"​")],-1)),e[1]||(e[1]=o("h2",{id:"h-1-prn-与-sat-编号对应关系",tabindex:"-1"},[i("H.1 PRN 与 SAT 编号对应关系 "),o("a",{class:"header-anchor",href:"#h-1-prn-与-sat-编号对应关系","aria-label":'Permalink to "H.1 PRN 与 SAT 编号对应关系"'},"​")],-1)),e[2]||(e[2]=o("p",null,[i("RTKLIB为了方便矩阵的构建与运算，内部对卫星进行了顺序编号，与之相关的函数是 "),o("code",null,"satid2no"),i(" 和 "),o("code",null,"satno2id"),i(" 。下面是卫星 prn 与 sat 编号的转换工具（输入卫星 ID 或编号，点击按钮进行转换）：")],-1)),e[3]||(e[3]=o("div",{class:"constellation"},[o("label",null,[o("input",{type:"checkbox",id:"checkbox-GPS",checked:"",onchange:"toggleSystem('GPS', this.checked)"}),i(" GPS")]),o("label",null,[o("input",{type:"checkbox",id:"checkbox-GLO",checked:"",onchange:"toggleSystem('GLO', this.checked)"}),i(" GLONASS")]),o("label",null,[o("input",{type:"checkbox",id:"checkbox-GAL",checked:"",onchange:"toggleSystem('GAL', this.checked)"}),i(" Galileo")]),o("label",null,[o("input",{type:"checkbox",id:"checkbox-QZS",checked:"",onchange:"toggleSystem('QZS', this.checked)"}),i(" QZSS")]),o("label",null,[o("input",{type:"checkbox",id:"checkbox-CMP",checked:"",onchange:"toggleSystem('CMP', this.checked)"}),i(" BeiDou (MAX="),o("input",{id:"H-1-1-MAXCMP",value:"46"}),i(") ")]),o("label",null,[o("input",{type:"checkbox",id:"checkbox-IRN",checked:"",onchange:"toggleSystem('IRN', this.checked)"}),i(" IRNSS")]),o("label",null,[o("input",{type:"checkbox",id:"checkbox-SBS",checked:"",onchange:"toggleSystem('SBS', this.checked)"}),i(" SBAS")])],-1)),e[4]||(e[4]=o("div",null,[o("input",{type:"text",id:"satIdInput",class:"H-1-1-input",placeholder:"例如 G05"}),o("button",{id:"H-1-1",class:"H-1-1-button",onclick:"convertIdToNo()"},"转换为SAT"),o("input",{type:"text",id:"H-1-1-sat",class:"H-1-1-input",disabled:"disabled"})],-1)),e[5]||(e[5]=o("div",null,[o("input",{type:"text",id:"satNoInput",class:"H-1-1-input",placeholder:"例如 5"}),o("button",{id:"H-1-1",class:"H-1-1-button",onclick:"convertNoToId()"},"转换为PRN"),o("input",{type:"text",id:"H-1-1-prn",class:"H-1-1-input",disabled:"disabled"})],-1)),k(r)])}const E=x(N,[["render",C]]);export{v as __pageData,E as default};
