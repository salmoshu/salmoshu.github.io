import{_ as x,c as b,j as c,a as i,o as k}from"./chunks/framework.DKq7WeZY.js";const a={GPS:{min:1,max:32,offset:0,code:"G"},GLO:{min:1,max:27,offset:32,code:"R"},GAL:{min:1,max:36,offset:59,code:"E"},QZS:{min:193,max:202,offset:95,code:"J"},CMP:{min:1,max:46,offset:105,code:"C"},IRN:{min:1,max:14,offset:151,code:"I"},SBS:{min:120,max:158,offset:165,code:"S"}};let o={...a};function r(){let n=0;for(const e in o)o[e].offset=n,n+=o[e].max-o[e].min+1}function S(n,e){a[n]&&!isNaN(e)&&e>=a[n].min&&(o[n]={...a[n],max:parseInt(e)},r())}function I(n,e){if(e){if(o[n]={...a[n]},n==="CMP"){const t=parseInt(document.getElementById("H-1-1-MAXCMP").value)||a.CMP.max;S("CMP",t)}}else delete o[n];r()}function p(){const n={GPS:document.getElementById("checkbox-GPS"),GLO:document.getElementById("checkbox-GLO"),GAL:document.getElementById("checkbox-GAL"),QZS:document.getElementById("checkbox-QZS"),CMP:document.getElementById("checkbox-CMP"),IRN:document.getElementById("checkbox-IRN"),SBS:document.getElementById("checkbox-SBS")};o={};for(const[e,t]of Object.entries(n))if(t.checked&&(o[e]={...a[e]},e==="CMP")){const s=parseInt(document.getElementById("H-1-1-MAXCMP").value)||a.CMP.max;S(e,s)}r()}function g(n){n=n.trim();let e,t;if(/^\d+$/.test(n)){if(t=parseInt(n),o.GPS&&o.GPS.min<=t&&t<=o.GPS.max)e="GPS";else if(o.SBS&&o.SBS.min<=t&&t<=o.SBS.max)e="SBS";else if(o.QZS&&o.QZS.min<=t&&t<=o.QZS.max)e="QZS";else if(o.CMP&&o.CMP.min<=t&&t<=o.CMP.max)e="CMP";else return 0;return u(e,t)}const s=n.match(/^([GREJCIS])(\d+)$/);if(!s)return 0;const d=s[1],l=s[2];switch(t=parseInt(l),d){case"G":e="GPS",t+=a.GPS.min-1;break;case"R":e="GLO",t+=a.GLO.min-1;break;case"E":e="GAL",t+=a.GAL.min-1;break;case"J":e="QZS",t+=a.QZS.min-1;break;case"C":e="CMP",t+=a.CMP.min-1;break;case"I":e="IRN",t+=a.IRN.min-1;break;case"S":e="SBS",t+=100;break;default:return 0}return!o[e]||t<o[e].min||t>o[e].max?0:u(e,t)}function u(n,e){const t=o[n];return!t||e<t.min||e>t.max?0:t.offset+(e-t.min+1)}function P(n){for(const[e,{min:t,max:s,offset:d,code:l}]of Object.entries(o)){const h=d+1,f=d+(s-t+1);if(n>=h&&n<=f){const m=1+(n-d-1);return e==="SBS"?m.toString().padStart(3,"0"):`${l}${m.toString().padStart(2,"0")}`}}return""}function y(){p();const n=document.getElementById("satIdInput").value,e=g(n);document.getElementById("H-1-1-sat").value=e?`${e}`:"Invalid input"}function B(){p();const n=parseInt(document.getElementById("satNoInput").value),e=P(n);document.getElementById("H-1-1-prn").value=e?`${e}`:"Invalid input"}typeof window<"u"&&(window.convertIdToNo=y,window.convertNoToId=B,window.toggleSystem=I);const C=JSON.parse('{"title":"附录H. 常见问题","description":"","frontmatter":{"sidebarDepth":2},"headers":[],"relativePath":"algorithm/RTKLIB-Manual-CN/12-appendixH.md","filePath":"algorithm/RTKLIB-Manual-CN/12-appendixH.md"}'),G={name:"algorithm/RTKLIB-Manual-CN/12-appendixH.md"};function M(n,e,t,s,d,l){return k(),b("div",null,e[0]||(e[0]=[c("h1",{id:"附录h-常见问题",tabindex:"-1"},[i("附录H. 常见问题 "),c("a",{class:"header-anchor",href:"#附录h-常见问题","aria-label":'Permalink to "附录H. 常见问题"'},"​")],-1),c("h2",{id:"h-1-prn-与-sat-编号对应关系",tabindex:"-1"},[i("H.1 PRN 与 SAT 编号对应关系 "),c("a",{class:"header-anchor",href:"#h-1-prn-与-sat-编号对应关系","aria-label":'Permalink to "H.1 PRN 与 SAT 编号对应关系"'},"​")],-1),c("p",null,[i("RTKLIB为了方便矩阵的构建与运算，内部对卫星进行了顺序编号，与之相关的函数是 "),c("code",null,"satid2no"),i(" 和 "),c("code",null,"satno2id"),i(" 。下面是卫星 prn 与 sat 编号的转换工具（输入卫星 ID 或编号，点击按钮进行转换）：")],-1),c("div",{class:"constellation"},[c("label",null,[c("input",{type:"checkbox",id:"checkbox-GPS",checked:"",onchange:"toggleSystem('GPS', this.checked)"}),i(" GPS")]),c("label",null,[c("input",{type:"checkbox",id:"checkbox-GLO",checked:"",onchange:"toggleSystem('GLO', this.checked)"}),i(" GLONASS")]),c("label",null,[c("input",{type:"checkbox",id:"checkbox-GAL",checked:"",onchange:"toggleSystem('GAL', this.checked)"}),i(" Galileo")]),c("label",null,[c("input",{type:"checkbox",id:"checkbox-QZS",checked:"",onchange:"toggleSystem('QZS', this.checked)"}),i(" QZSS")]),c("label",null,[c("input",{type:"checkbox",id:"checkbox-CMP",checked:"",onchange:"toggleSystem('CMP', this.checked)"}),i(" BeiDou (MAX="),c("input",{id:"H-1-1-MAXCMP",value:"46"}),i(") ")]),c("label",null,[c("input",{type:"checkbox",id:"checkbox-IRN",checked:"",onchange:"toggleSystem('IRN', this.checked)"}),i(" IRNSS")]),c("label",null,[c("input",{type:"checkbox",id:"checkbox-SBS",checked:"",onchange:"toggleSystem('SBS', this.checked)"}),i(" SBAS")])],-1),c("div",null,[c("input",{type:"text",id:"satIdInput",class:"H-1-1-input",placeholder:"例如 G05"}),c("button",{id:"H-1-1",class:"H-1-1-button",onclick:"convertIdToNo()"},"转换为SAT"),c("input",{type:"text",id:"H-1-1-sat",class:"H-1-1-input",disabled:"disabled"})],-1),c("div",null,[c("input",{type:"text",id:"satNoInput",class:"H-1-1-input",placeholder:"例如 5"}),c("button",{id:"H-1-1",class:"H-1-1-button",onclick:"convertNoToId()"},"转换为PRN"),c("input",{type:"text",id:"H-1-1-prn",class:"H-1-1-input",disabled:"disabled"})],-1)]))}const H=x(G,[["render",M]]);export{C as __pageData,H as default};
